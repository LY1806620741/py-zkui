<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引入样式 -->
    <!-- https://element.eleme.cn/#/zh-CN/component/layout 2.13.1-->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>py-zkui</title>
    <style>
        body {
            margin: 0;
        }

        .el-header {
            background-color: #409EFF;
            line-height: 60px;
            font-size: 20px;
            color: #fff;
        }

        .el-breadcrumb {
            line-height: 30px;
        }

        .el-tree {
            width: 200px;
            background-color: rgb(233, 233, 235);
            border-radius: 4px;
            border: solid 1px;
        }
    </style>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>

<body>
    <div id="app">
        <el-container>
            <el-header>
                Zookeeper UI
                <el-dropdown style="float: right;">
                    <el-button type="primary">
                        <span>jieshao</span><i class="el-icon-arrow-down el-icon--right"></i>
                    </el-button>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item>
                            <el-button type="text" @click="changepassword">修改密码</el-button>
                        </el-dropdown-item>
                        <el-dropdown-item>设置</el-dropdown-item>
                        <el-dropdown-item>退出</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-header>
            <el-container>
                <el-row :gutter="24" style="width: 100%;">
                    <el-col :span="22" :offset="1" style="background-color: rgb(233, 233, 235); border-radius: 50px;">
                        <el-breadcrumb separator="/">
                            <el-breadcrumb-item :to="{ path: '/' }"><a href="/">/</a></el-breadcrumb-item>
                        </el-breadcrumb>
                    </el-col>
                </el-row>
            </el-container>

            <el-container>
                </el-breadcrumb>
                <el-tree :props="props" :load="loadNode" lazy show-checkbox id="tree">
                </el-tree>
                <el-main>
                    <el-table :data="tableData">
                        <el-table-column prop="name" label="name">
                        </el-table-column>
                        <el-table-column prop="value" label="value">
                        </el-table-column>
                        </el-table-column>
                        <el-table-column prop="operate" label="operate">
                            <el-button size="mini" type="danger" @click="handleDelete(scope.$index, scope.row)">删除
                            </el-button>
                        </el-table-column>
                    </el-table>
                </el-main>
            </el-container>
        </el-container>
    </div>


    <script>

        var app = new Vue({
            el: '#app',
            data: {
                tableData: Array(10).fill({
                    name: 'key',
                    value: 'value'
                }),
                props: {
                    label: 'name',
                    children: 'zones',
                    isLeaf: 'leaf'
                }
            },
            methods: {
                loadNode(node, resolve) {
                    if (node.level === 0) {
                        return resolve([{ name: '/' }]);
                    }
                    if (node.level > 1) return resolve([]);

                    setTimeout(() => {
                        const data = [{
                            name: 'leaf',
                            leaf: true
                        }, {
                            name: 'zone'
                        }];

                        resolve(data);
                    }, 500);
                },
                changepassword() {
                    this.$prompt('输入旧密码', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消'
                    }).then(({ value }) => {
                        this.$message({
                            type: 'success',
                            message: '你的密码是: ' + value
                        });
                    }).catch(() => {
                        this.$message({
                            type: 'info',
                            message: '取消输入'
                        });
                    });
                },
                handleDelete(index, row) {
                    console.log(index, row);
                }
            }
        })
    </script>
</body>

</html>